{"version":3,"sources":["webpack:///webpack/bootstrap 143bb58cd58c98c85df4","webpack:///./src/index.js","webpack:///external \"rescope\"","webpack:///./src/spellFactory.js","webpack:///external \"is\"","webpack:///./src/spellsLib.js","webpack:///external \"react\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-rescope\""],"names":["spells","SimpleObjectProto","constructor","castTypesToAppliable","castTypes","isSpell","caster","argz","hasOwnProperty","value","addCaster","fn","argz2","cast","shift","typeName","string","name","displayName","test","prefix","memberDescr","bool","array","casterName","toUpperCase","substr","doCast","applyCastableType","isCastableType","slice","unshift","Comp","member","stateScope","castable","i","length","undefined","console","warn","RSComp","props","children","Lib","object","v","stateMap","obj","ref","cfg","use","state","actions","applier","$apply","stateMapToRefList","apply","scope","map","cfg2","renderer","sm","arguments","_compScope","key","RSRenderer","parent","$scope","autoDestroy","retain","__snapshot","snapshot","output","serialize","restore","dispose","d","s","c","RSCompRenderer","comp","ctx","viewScope","rootRenderer","$stores","Component","sid","alias","exclude","snap","scopeObj","getSnapshotByKeyExt","data","$actions","$store","store","bind"],"mappings":"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","file":"dist/rescopeSpells.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 143bb58cd58c98c85df4","/*\r\n * Copyright (c)  2018 Wise Wild Web .\r\n *\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the \"Software\"), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in all\r\n *  copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n *  SOFTWARE.\r\n *\r\n * @author : Nathanael Braun\r\n * @contact : caipilabs@gmail.com\r\n */\r\nimport rescope from \"rescope\";\r\nimport \"./spellFactory\";\r\nimport \"./spellsLib\";\r\n\r\nexport default rescope.spells;\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = require(\"rescope\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rescope\"\n// module id = 1\n// module chunks = 0","/*\r\n * Copyright (c)  2018 Wise Wild Web .\r\n *\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the \"Software\"), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in all\r\n *  copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n *  SOFTWARE.\r\n *\r\n * @author : Nathanael Braun\r\n * @contact : caipilabs@gmail.com\r\n */\r\nimport rescope from \"rescope\";\r\nimport is      from \"is\";\r\n// will use as external the index in dist\r\n\r\nconst SimpleObjectProto = ({}).constructor;\r\nrescope.spells          = {};\r\n\r\nlet castTypesToAppliable = {};\r\nlet castTypes            = {};\r\n\r\nrescope.isSpell = function caster( ...argz ) {\r\n\t// are we decorating a member / without argz\r\n\tif ( argz[0] instanceof SimpleObjectProto && argz[2] instanceof SimpleObjectProto && argz[0].hasOwnProperty(argz[1]) ) {\r\n\t\targz[0][argz[1]] = argz[2].value = addCaster(argz[0][argz[1]], argz);\r\n\t\treturn argz[0];\r\n\t}\r\n\telse if ( !is.fn(argz[0]) ) {\r\n\t\treturn ( ...argz2 ) => {\r\n\t\t\t// are we decorating a member / with argz\r\n\t\t\tif ( argz2[0] instanceof SimpleObjectProto && argz2[2] instanceof SimpleObjectProto && argz2[0].hasOwnProperty(argz2[1]) ) {\r\n\t\t\t\targz2[2].value = addCaster(argz2[0][argz2[1]], ...argz, argz2);\r\n\t\t\t\treturn argz2[0];\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\treturn caster(argz2[0], ...argz);\r\n\t\t}\r\n\t}\r\n\treturn addCaster(...argz);\r\n}\r\n\r\nfunction addCaster( ...argz ) {\r\n\tlet cast = (!argz[0] || is.fn(argz[0])) && argz.shift();\r\n\tif ( !cast )\r\n\t\tthrow \"ReScope cast : bad decorator function\"\r\n\tlet typeName    = (!argz[0] || is.string(argz[0])) && argz.shift() || cast.name || cast.displayName,\r\n\t    test        = (!argz[0] || is.fn(argz[0])) && argz.shift(),\r\n\t    prefix      = (!argz[0] || is.string(argz[0])) && argz.shift() || \"as\",\r\n\t    memberDescr = (!argz[0] || is.bool(argz[0]) || is.array(argz[0])) && argz.shift() || true,\r\n\t    casterName  = typeName && (prefix + typeName[0].toUpperCase() + typeName.substr(1));\r\n\t\r\n\t\r\n\tif ( !castTypesToAppliable[typeName] ) {\r\n\t\tcastTypesToAppliable[typeName] = [];\r\n\t\t\r\n\t\trescope.spells[casterName] = castTypes[typeName] =\r\n\t\t\tfunction doCast( ...argz ) {\r\n\t\t\t\t// are we decorating a member / without argz\r\n\t\t\t\tif ( argz[0] instanceof SimpleObjectProto && argz[2] instanceof SimpleObjectProto && argz[0].hasOwnProperty(argz[1]) ) {\r\n\t\t\t\t\targz[0][argz[1]] = applyCastableType(typeName, argz[0][argz[1]], [], argz);\r\n\t\t\t\t\treturn argz[0];\r\n\t\t\t\t}\r\n\t\t\t\telse if ( !isCastableType(typeName, argz[0]) ) {\r\n\t\t\t\t\treturn ( ...argz2 ) => {\r\n\t\t\t\t\t\t// are we decorating a member / with argz\r\n\t\t\t\t\t\tif ( argz2[0] instanceof SimpleObjectProto && argz2[2] instanceof SimpleObjectProto && argz2[0].hasOwnProperty(argz2[1]) ) {\r\n\t\t\t\t\t\t\targz2[0][argz2[1]] = applyCastableType(typeName, argz2[0][argz2[1]], argz, argz2);\r\n\t\t\t\t\t\t\treturn argz2[0];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\treturn doCast(argz2[0], ...argz);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn applyCastableType(typeName, argz[0], argz.slice(1));\r\n\t\t\t};\r\n\t}\r\n\tcastTypesToAppliable[typeName].unshift(\r\n\t\t{\r\n\t\t\ttypeName, test, memberDescr, cast\r\n\t\t}\r\n\t)\r\n\treturn castTypes[typeName];\r\n}\r\n\r\nfunction isCastableType( typeName, Comp, member, stateScope ) {\r\n\tlet castable = castTypesToAppliable[typeName];\r\n\tfor ( let i = 0; i < castable.length; i++ )\r\n\t\tif (\r\n\t\t\t(member === undefined || !!member == !!castable[i].memberDescr)\r\n\t\t\t&& castable[i].test(Comp)\r\n\t\t)\r\n\t\t\treturn castable[i];\r\n\t\r\n\treturn false;\r\n\t\r\n}\r\n\r\nfunction applyCastableType( typeName, Comp, argz, member, stateScope ) {\r\n\t\r\n\tlet castable = castTypesToAppliable[typeName] || [];\r\n\tfor ( let i = 0; i < castable.length; i++ )\r\n\t\tif (\r\n\t\t\t(member === undefined || !!member == !!castable[i].memberDescr)\r\n\t\t\t&& castable[i].test(Comp)\r\n\t\t)\r\n\t\t\treturn castable[i].cast(Comp, argz, member)\r\n\t\t\t\t;\r\n\t\r\n\tconsole.warn(\"reScope cast : Unknown type\", typeName, Comp)\r\n\treturn false;\r\n\t\r\n}\r\n\r\nexport default rescope;\n\n\n// WEBPACK FOOTER //\n// ./src/spellFactory.js","module.exports = require(\"is\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"is\"\n// module id = 3\n// module chunks = 0","/*\r\n * Copyright (c)  2018 Wise Wild Web .\r\n *\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the \"Software\"), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in all\r\n *  copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n *  SOFTWARE.\r\n *\r\n * @author : Nathanael Braun\r\n * @contact : caipilabs@gmail.com\r\n */\r\nimport React from \"react\";\r\n\r\nimport {renderToString} from \"react-dom/server\"\r\nimport is               from \"is\";\r\nimport {\r\n\tisSpell, spells, Store, Scope, reScope, propsToScope, scopeToProps, Component,\r\n\tscopeToState\r\n}                       from \"react-rescope\";\r\n\r\n@propsToScope(['props'])\r\n@scopeToProps(['props'])\r\nclass RSComp extends Component {\r\n\trender() {\r\n\t\treturn this.props.children || [];\r\n\t}\r\n}\r\n\r\nlet Lib = {\r\n\t\r\n\t@isSpell(\"stateMap\", v => (is.object(v) || is.string(v)))\r\n\tstateMap( obj, { 0: cfg }, ref ) {\r\n\t\tlet use = [], state = {}, actions = {},\r\n\t\t    applier                       = obj.$apply;\r\n\t\tif ( applier )\r\n\t\t\tobj = { ...obj },\r\n\t\t\t\tdelete obj.$apply;\r\n\t\tScope.stateMapToRefList(obj, state, use, actions)\r\n\t\treturn class StateMap extends Store {\r\n\t\t\tstatic displayName = ref[1];\r\n\t\t\tstatic use         = use;\r\n\t\t\tstatic state       = state;\r\n\t\t\tstatic actions     = actions;\r\n\t\t\tapply              = applier;\r\n\t\t}\r\n\t},\r\n\t@isSpell(\"scope\", v => (is.object(v)))\r\n\tscope( obj, { 0: cfg }, ref ) {\r\n\t\treturn class childScope extends Scope {\r\n\t\t\tconstructor( map, cfg2 ) {\r\n\t\t\t\tsuper({ ...obj, ...map }, { ...cfg, ...cfg2 });\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\t@isSpell(\"renderer\", v => (is.fn(v)))\r\n\trenderer( obj, argz, ref ) {\r\n\t\tlet use,\r\n\t\t    state,\r\n\t\t    scope = argz[1] && argz[0],\r\n\t\t    sm    = argz[1] || argz[0];\r\n\t\t//if ( !argz[ 0 ] ) {\r\n\t\tstate     = {};\r\n\t\t//argz[ 0 ] = []\r\n\t\t//}\r\n\t\t//else if ( is.array(argz[ 0 ]) ) {\r\n\t\t//    use   = argz[ 0 ];\r\n\t\t//    state = !use.length && {};\r\n\t\t//}\r\n\t\t//else\r\n\t\t//    argz[ 0 ] && Scope.stateMapToRefList(argz[ 0 ], state = {}, use = [],\r\n\t\t// actions = {});\r\n\t\t\r\n\t\t//!use.includes('props') && use.push('props');\r\n\t\treturn class RSRenderer extends Store {\r\n\t\t\tstatic displayName = ref[1];\r\n\t\t\t//static use         = use;\r\n\t\t\tstatic state       = state;\r\n\t\t\t\r\n\t\t\tconstructor( scope, cfg ) {\r\n\t\t\t\tsuper(...arguments);\r\n\t\t\t\tthis._compScope = new Scope(\r\n\t\t\t\t\t{},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tkey        : RSRenderer.displayName,\r\n\t\t\t\t\t\tparent     : this.$scope,\r\n\t\t\t\t\t\tautoDestroy: true,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t\r\n\t\t\t\tthis._compScope.retain(\"RSRenderer\");\r\n\t\t\t\tthis.__snapshot = cfg.snapshot;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tserialize( cfg, output ) {\r\n\t\t\t\tsuper.serialize(...arguments)\r\n\t\t\t\tthis._compScope.serialize(...arguments)\r\n\t\t\t\treturn output;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\trestore() {\r\n\t\t\t\tsuper.restore(...arguments)\r\n\t\t\t\tthis._compScope.restore(...arguments)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdestroy() {\r\n\t\t\t\tthis._compScope.dispose(\"RSRenderer\");\r\n\t\t\t\tsuper.destroy();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tapply( d, s, c ) {\r\n\t\t\t\tif ( d ) {\r\n\t\t\t\t\t//this._comp.setState(c);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t@scopeToState(\r\n\t\t\t\t\t( comp, props, ctx ) => {\r\n\t\t\t\t\t\tlet viewScope = new Scope(\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t[RSRenderer.displayName]: Lib.rootRenderer(obj, [sm], [, RSRenderer.displayName]),\r\n\t\t\t\t\t\t\t\t...(scope || {})\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tkey        : \"comp\",\r\n\t\t\t\t\t\t\t\tparent     : this._compScope,\r\n\t\t\t\t\t\t\t\tautoDestroy: true,\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tstate: { [RSRenderer.displayName]: { props } }\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\treturn viewScope;\r\n\t\t\t\t\t},\r\n\t\t\t\t\t[RSRenderer.displayName])\r\n\t\t\t\tclass RSCompRenderer extends React.Component {\r\n\t\t\t\t\tconstructor() {\r\n\t\t\t\t\t\tsuper(...arguments);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tcomponentWillMount() {\r\n\t\t\t\t\t\tvar props = this.props;\r\n\t\t\t\t\t\t//this._ssrTest = setTimeout(\r\n\t\t\t\t\t\t//    tm => this.$scope.then(\r\n\t\t\t\t\t\t//        ( { [ RSRenderer.displayName ]: CMP } ) =>\r\n\t\t\t\t\t\t//            renderToString(<RSCompRenderer { ...props }/>)\r\n\t\t\t\t\t\t//    ))\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tcomponentDidMount() {\r\n\t\t\t\t\t\t//clearTimeout(this._ssrTest);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tcomponentWillReceiveProps( props ) {\r\n\t\t\t\t\t\tlet Comp = this.$stores[RSRenderer.displayName];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//Comp && Comp.setState({ props });\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\trender() {\r\n\t\t\t\t\t\tlet Comp = this.state[RSRenderer.displayName];\r\n\t\t\t\t\t\treturn Comp ||\r\n\t\t\t\t\t\t\t<span className={ \"__rsLoad\" }/>\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn RSCompRenderer;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\t@isSpell(\"rootRenderer\", v => (is.fn(v)))\r\n\trootRenderer( obj, argz, ref ) {\r\n\t\t\r\n\t\tlet use,\r\n\t\t    state,\r\n\t\t    actions;\r\n\t\tif ( !argz[0] ) {\r\n\t\t\tstate = {};\r\n\t\t\t//argz[ 0 ] = []\r\n\t\t}\r\n\t\telse if ( is.array(argz[0]) ) {\r\n\t\t\tuse   = argz[0];\r\n\t\t\tstate = !use.length && {};\r\n\t\t}\r\n\t\telse\r\n\t\t\targz[0] && Scope.stateMapToRefList(argz[0], state = {}, use = [], actions = {});\r\n\t\t\r\n\t\t//!use.includes('props') && use.push('props');\r\n\t\treturn class RSRenderer extends Store {\r\n\t\t\tstatic displayName = ref[1];\r\n\t\t\tstatic use         = use;\r\n\t\t\tstatic state       = state || {};\r\n\t\t\tstatic actions     = actions;\r\n\t\t\t\r\n\t\t\t//static actions     = actions;\r\n\t\t\tserialize_ex( cfg, output, sid, alias, exclude ) {\r\n\t\t\t\toutput   = super.serialize_ex(cfg, output, sid, alias, exclude);\r\n\t\t\t\tlet snap = this.scopeObj.getSnapshotByKeyExt(output, sid + '>' + this.name);\r\n\t\t\t\tif ( snap ) {\r\n\t\t\t\t\tsnap.state && snap.state.props &&\r\n\t\t\t\t\tdelete snap.state.props;\r\n\t\t\t\t\tdelete snap.data;\r\n\t\t\t\t}\r\n\t\t\t\treturn output;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tapply( d, s, c ) {\r\n\t\t\t\t//if ( d ) {\r\n\t\t\t\t//    //this._comp.setState(c);\r\n\t\t\t\t//    return d;\r\n\t\t\t\t//}\r\n\t\t\t\treturn obj(s, {\r\n\t\t\t\t\t$actions: this.$actions,\r\n\t\t\t\t\t$stores : this.$stores,\r\n\t\t\t\t\t$scope  : this.$scope,\r\n\t\t\t\t\t$store  : this\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t,\r\n\t@isSpell(\"store\", v => (is.fn(v)))\r\n\tstore( obj, { 0: cfg }, ref ) {\r\n\t\treturn Store.bind(null, obj, { ...cfg, apply: ( d, s, c ) => obj(d, s, c) })\r\n\t}\r\n}\r\n\r\nexport default Lib;\n\n\n// WEBPACK FOOTER //\n// ./src/spellsLib.js","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"react-dom/server\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom/server\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"react-rescope\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-rescope\"\n// module id = 7\n// module chunks = 0"],"sourceRoot":""}